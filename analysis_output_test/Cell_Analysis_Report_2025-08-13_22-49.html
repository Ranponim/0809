
    <!DOCTYPE html>
    <html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Cell 종합 분석 리포트</title>
        <style>
            :root {
                --bg: #f6f7fb;
                --card: #ffffff;
                --text: #1f2937;
                --muted: #6b7280;
                --border: #e5e7eb;
                --primary: #0ea5e9; /* sky-500 */
                --primary-600: #0284c7;
                --accent: #22c55e;  /* green-500 */
                --warn: #f59e0b;    /* amber-500 */
                --shadow: 0 10px 30px rgba(2, 8, 23, 0.08);
                --radius: 14px;
            }
            @media (prefers-color-scheme: dark) {
                :root {
                    --bg: #0b1220;
                    --card: #0f172a;
                    --text: #e5e7eb;
                    --muted: #94a3b8;
                    --border: #1f2a44;
                    --primary: #38bdf8;
                    --primary-600: #0ea5e9;
                    --accent: #34d399;
                    --warn: #fbbf24;
                    --shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
                }
            }

            html, body {
                margin: 0; padding: 0; background: linear-gradient(180deg, var(--bg), #ffffff00 60%), var(--bg);
                color: var(--text); font-family: 'Inter', 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased;
            }

            .shell { max-width: 1240px; margin: 28px auto; padding: 0 18px; }

            .hero {
                background: radial-gradient(1200px 240px at 20% -20%, rgba(56, 189, 248, 0.25), transparent),
                            radial-gradient(800px 200px at 90% -10%, rgba(34, 197, 94, 0.25), transparent);
                border: 1px solid var(--border);
                border-radius: var(--radius);
                padding: 26px 26px;
                box-shadow: var(--shadow);
                backdrop-filter: saturate(110%) blur(4px);
            }

            .hero h1 {
                margin: 0 0 8px 0; font-size: 26px; font-weight: 800; letter-spacing: -0.01em;
                background: linear-gradient(90deg, var(--primary), var(--accent));
                -webkit-background-clip: text; background-clip: text; color: transparent;
            }

            .hero .meta { color: var(--muted); font-size: 13px; }

            .tabs {
                margin-top: 16px;
                background: var(--card);
                border: 1px solid var(--border);
                border-radius: var(--radius);
                box-shadow: var(--shadow);
                overflow: hidden;
            }

            .tab-nav {
                display: flex; gap: 6px; padding: 10px; position: sticky; top: 0; background: var(--card);
                border-bottom: 1px solid var(--border); z-index: 2;
            }

            .tab-nav button {
                appearance: none; border: 1px solid var(--border); background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
                color: var(--text); padding: 10px 14px; border-radius: 10px; font-size: 14px; cursor: pointer;
                transition: all .18s ease; box-shadow: 0 1px 0 rgba(0,0,0,.04);
            }
            .tab-nav button:hover { transform: translateY(-1px); box-shadow: 0 6px 14px rgba(2,8,23,.08); }
            .tab-nav button.active {
                background: linear-gradient(180deg, rgba(14,165,233,.14), rgba(14,165,233,.08));
                color: var(--primary-600); border-color: rgba(14,165,233,.35);
            }

            .content { padding: 18px; }
            .section { margin: 16px 0 22px; }
            .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 16px 18px; box-shadow: var(--shadow); }
            .card h2 { margin: 0 0 12px 0; font-size: 18px; color: var(--primary-600); }
            .muted { color: var(--muted); }

            .list ul { list-style: none; padding-left: 0; margin: 0; }
            .list li {
                margin: 8px 0; line-height: 1.6; position: relative; padding-left: 26px;
            }
            .list li::before {
                content: '✓'; position: absolute; left: 0; top: 1px; color: var(--accent); font-weight: 700;
            }

            .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); gap: 18px; }
            .chart-item img {
                width: 100%; height: auto; border-radius: 12px; border: 1px solid var(--border); box-shadow: var(--shadow);
            }
            .chart-img-wrap { position: relative; }
            .chart-actions { position: absolute; right: 10px; bottom: 10px; display: flex; gap: 8px; }
            .chart-caption { margin-top: 8px; color: var(--muted); font-size: 12px; text-align: center; }

            .btn {
                padding: 8px 12px; border-radius: 10px; text-decoration: none; color: var(--text);
                background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
                border: 1px solid var(--border); box-shadow: 0 1px 0 rgba(0,0,0,.04);
                font-size: 13px; transition: all .18s ease; cursor: pointer;
            }
            .btn:hover { transform: translateY(-1px); box-shadow: 0 6px 14px rgba(2,8,23,.08); }

            .toolbar { display: flex; gap: 10px; align-items: center; margin-bottom: 12px; }
            .input {
                padding: 10px 12px; border-radius: 10px; border: 1px solid var(--border); background: var(--card); color: var(--text);
                min-width: 220px; outline: none;
            }

            table { width: 100%; border-collapse: separate; border-spacing: 0; }
            thead th {
                text-align: left; padding: 10px 12px; position: sticky; top: 0; background: var(--card);
                border-bottom: 1px solid var(--border); cursor: pointer;
            }
            tbody td { padding: 10px 12px; border-bottom: 1px solid var(--border); }
            tbody tr:hover { background: rgba(14,165,233,.05); }

            .tab-content { display: none; }
            .tab-content.active { display: block; animation: fadeIn .28s ease; }
            @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
        </style>
    </head>
    <body>
        <div class="shell">
            <div class="hero">
                <h1>Cell 종합 분석 리포트</h1>
                <div class="meta">생성 시각: 2025-08-13 22:49:41</div>
            </div>

            <div class="tabs">
                <div class="tab-nav" role="tablist">
                    <button class="active" role="tab" aria-selected="true" onclick="openTab(event, 'summary')">종합 리포트</button>
                    <button role="tab" aria-selected="false" onclick="openTab(event, 'detailed')">셀 상세 분석</button>
                    <button role="tab" aria-selected="false" onclick="openTab(event, 'charts')">비교 차트</button>
                    <button role="tab" aria-selected="false" onclick="openTab(event, 'table')">데이터 테이블</button>
                </div>
                <div class="content">
                    <section id="summary" class="tab-content active" role="tabpanel">
                        <div class="section card">
                            <h2>종합 분석 요약</h2>
                            <div class="muted">기간 n에서 Retainability 악화와 Accessibility 저하가 관찰됨.</div>
                        </div>
                        <div class="section card list">
                            <h2>핵심 관찰 사항</h2>
                            <ul><li><div><strong>가설 1:</strong> 랜 무선 혼잡에 따른 RRC 연결 실패율 상승</div><div class='muted'>증거: Accessibility_Attempts 감소 및 Mobility_HO_Success 저하 동반</div><div class='muted'>교란 변수 평가: SW 패치/라우팅 변경 가능성 낮음 (동일 환경 가정)</div></li></ul>
                        </div>
                        <div class="section card list">
                            <h2>권장 조치</h2>
                            <ul><li><div><strong>P1</strong> - RACH 관련 카운터(pmRachAtt, pmRachSucc) 시계열 점검</div><div class='muted'>셀 그룹 레벨로 분해하여 급격 변화 구간 확인</div></li><li><div><strong>P2</strong> - 혼잡 완화 파라미터 재검토</div><div class='muted'>PRACH 구간, 핸드오버 타이머 등 재튜닝</div></li></ul>
                        </div>
                    </section>

                    <section id="detailed" class="tab-content" role="tabpanel">
                        <div class="section card"></div>
                    </section>

                    <section id="charts" class="tab-content" role="tabpanel">
                        <div class="section card">
                            <h2>비교 차트</h2>
                            <div class="grid"><div class="chart-item">  <div class="chart-img-wrap">    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=" alt="overall Chart">    <div class="chart-actions">      <a class="btn" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=" download="overall.png">PNG 다운로드</a>    </div>  </div>  <div class="chart-caption">overall</div></div></div>
                        </div>
                    </section>

                    <section id="table" class="tab-content" role="tabpanel">
                        <div class="section card">
                            <h2>데이터 테이블</h2>
                            <div class="toolbar">
                                <input id="table-search" class="input" placeholder="검색 (셀 이름 등)" />
                                <a class="btn" href="data:text/csv;base64,cGVnX25hbWUsYXZnX25fbWludXNfMSxhdmdfbixkaWZmLHBjdF9jaGFuZ2UNCkFjY2Vzc2liaWxpdHlfQXR0ZW1wdHMsMTAwMC4wLDkwMC4wLC0xMDAuMCwtMTAuMA0KUmV0YWluYWJpbGl0eV9Ecm9wcyw1MC4wLDgwLjAsMzAuMCw2MC4wDQpNb2JpbGl0eV9IT19TdWNjZXNzLDk4LjUsOTcuMSwtMS40LC0xLjQyDQo=" download="cell_stats.csv">CSV 다운로드</a>
                            </div>
                            <div class="table-wrap">
                                <table id="stats-table">
                                    <thead>
                                        <tr><th data-index="0" data-key="peg_name">peg_name</th><th data-index="1" data-key="avg_n_minus_1">avg_n_minus_1</th><th data-index="2" data-key="avg_n">avg_n</th><th data-index="3" data-key="diff">diff</th><th data-index="4" data-key="pct_change">pct_change</th></tr>
                                    </thead>
                                    <tbody><tr><td>Accessibility_Attempts</td><td>1000.0</td><td>900.0</td><td>-100.0</td><td>-10.0</td></tr><tr><td>Retainability_Drops</td><td>50.0</td><td>80.0</td><td>30.0</td><td>60.0</td></tr><tr><td>Mobility_HO_Success</td><td>98.5</td><td>97.1</td><td>-1.4</td><td>-1.42</td></tr></tbody>
                                </table>
                                
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>

        <script>
            function openTab(evt, tabName) {
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName('tab-content');
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].classList.remove('active');
                }
                var nav = evt.currentTarget.parentElement;
                tablinks = nav.getElementsByTagName('button');
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].classList.remove('active');
                    tablinks[i].setAttribute('aria-selected', 'false');
                }
                document.getElementById(tabName).classList.add('active');
                evt.currentTarget.classList.add('active');
                evt.currentTarget.setAttribute('aria-selected', 'true');
            }

            // 간단한 테이블 정렬/검색
            (function() {
                var table = document.getElementById('stats-table');
                if (!table) return;
                var tbody = table.querySelector('tbody');
                var headers = table.querySelectorAll('thead th');
                var currentSort = { key: null, asc: true };

                function inferType(value) {
                    var num = parseFloat((value + '').replace(/,/g, ''));
                    return !isNaN(num) && isFinite(num) ? 'number' : 'string';
                }

                function compareValues(a, b, type, asc) {
                    if (type === 'number') {
                        a = parseFloat((a + '').replace(/,/g, ''));
                        b = parseFloat((b + '').replace(/,/g, ''));
                        a = isNaN(a) ? -Infinity : a;
                        b = isNaN(b) ? -Infinity : b;
                    } else {
                        a = (a + '').toLowerCase();
                        b = (b + '').toLowerCase();
                    }
                    if (a < b) return asc ? -1 : 1;
                    if (a > b) return asc ? 1 : -1;
                    return 0;
                }

                headers.forEach(function(th) {
                    th.addEventListener('click', function() {
                        var index = parseInt(th.getAttribute('data-index'));
                        var key = th.getAttribute('data-key');
                        var rows = Array.prototype.slice.call(tbody.querySelectorAll('tr'));
                        var type = 'string';
                        if (rows.length) {
                            var cellValue = rows[0].children[index].textContent.trim();
                            type = inferType(cellValue);
                        }
                        var asc = currentSort.key === key ? !currentSort.asc : true;
                        rows.sort(function(r1, r2) {
                            var a = r1.children[index].textContent.trim();
                            var b = r2.children[index].textContent.trim();
                            return compareValues(a, b, type, asc);
                        });
                        tbody.innerHTML = '';
                        rows.forEach(function(r) { tbody.appendChild(r); });
                        currentSort = { key: key, asc: asc };
                    });
                });

                var search = document.getElementById('table-search');
                if (search) {
                    search.addEventListener('input', function() {
                        var keyword = search.value.toLowerCase();
                        var rows = tbody.querySelectorAll('tr');
                        rows.forEach(function(r) {
                            var text = r.textContent.toLowerCase();
                            r.style.display = text.indexOf(keyword) > -1 ? '' : 'none';
                        });
                    });
                }
            })();
        </script>
    </body>
    </html>
    