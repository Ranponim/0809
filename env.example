# Analysis LLM System Environment Variables

# ===========================================
# Database Configuration
# ===========================================

# PostgreSQL Database URL
DATABASE_URL=postgresql://username:password@localhost:5432/analysis_db

# Database Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# ===========================================
# LLM Configuration
# ===========================================

# Google Gemini API Key (Required)
GOOGLE_API_KEY=your_google_gemini_api_key_here

# Alternative LLM Providers (Optional)
# ANTHROPIC_API_KEY=your_anthropic_api_key_here
# OPENAI_API_KEY=your_openai_api_key_here

# LLM Settings
MAX_TOKENS_PER_REQUEST=4000
LLM_MODEL=gemini-2.0-flash-exp
LLM_TEMPERATURE=0.1
LLM_TIMEOUT=60

# ===========================================
# API Configuration
# ===========================================

# FastAPI Server Settings
API_HOST=localhost
API_PORT=8000
API_WORKERS=4

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]
CORS_ALLOW_CREDENTIALS=true

# ===========================================
# Security Configuration
# ===========================================

# JWT Secret Key (Generate a secure random key)
JWT_SECRET_KEY=your-very-secure-jwt-secret-key-here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# API Key Authentication
API_KEY=your-api-key-here

# ===========================================
# Logging Configuration
# ===========================================

# Logging Level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO
LOG_FILE=logs/analysis_llm.log
LOG_MAX_FILE_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Structured Logging
LOG_FORMAT=json

# ===========================================
# External Services
# ===========================================

# MongoDB for Analysis Results Storage
MONGODB_URL=mongodb://localhost:27017
MONGODB_DATABASE=analysis_results

# Redis for Caching (Optional)
REDIS_URL=redis://localhost:6379
REDIS_DB=0

# ===========================================
# Performance & Reliability
# ===========================================

# Circuit Breaker Settings
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_EXPECTED_EXCEPTION=Exception

# Retry Settings
MAX_RETRIES=3
RETRY_BACKOFF_FACTOR=1.5
RETRY_STATUS_CODES=[429, 500, 502, 503, 504]

# ===========================================
# Feature Flags
# ===========================================

# Enable/Disable Features
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_REAL_TIME_MONITORING=false
ENABLE_AUTO_SCALING=false

# Expert Judgment Algorithm
ENABLE_JUDGMENT_ALGORITHM=true
JUDGMENT_ALGORITHM_FILE_PATH=최영권_판단_알고리즘.docx

# ===========================================
# Development Settings
# ===========================================

# Development Mode
DEBUG=true
RELOAD=true

# Test Database
TEST_DATABASE_URL=postgresql://username:password@localhost:5432/analysis_test_db

# Mock External Services
MOCK_LLM_RESPONSES=false
MOCK_DATABASE_CONNECTIONS=false

# ===========================================
# Monitoring & Observability
# ===========================================

# Prometheus Metrics
ENABLE_PROMETHEUS_METRICS=true
METRICS_PORT=9090

# Health Check
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# ===========================================
# File Paths
# ===========================================

# Data Directories
DATA_DIR=data/
OUTPUT_DIR=analysis_output/
TEMPLATE_DIR=templates/

# Configuration Files
CONFIG_FILE=config/analysis_config.yaml