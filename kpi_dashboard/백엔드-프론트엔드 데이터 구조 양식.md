# 백엔드-프론트엔드 데이터 구조 양식

이 문서는 3GPP KPI 대시보드 웹사이트의 백엔드(FastAPI)와 프론트엔드(React) 간에 사용되는 주요 데이터 구조 양식을 설명합니다.

## 1. KPI 데이터 (`/api/kpi/statistics`, `/api/kpi/trends`)

KPI 통계 및 추이 데이터를 전송하는 데 사용되는 기본 데이터 모델입니다.

### `KPIData` 모델
```json
{
  "timestamp": "YYYY-MM-DDTHH:MM:SS",
  "entity_id": "string",
  "kpi_type": "string",
  "value": "float"
}
```
- `timestamp`: 데이터가 기록된 시간 (ISO 8601 형식 문자열).
- `entity_id`: KPI가 측정된 엔티티의 고유 식별자 (예: `LHK078ML1`).
- `kpi_type`: KPI의 종류 (예: `availability`, `rrc`, `erab`, `sar`, `mobility_intra`, `cqi`, `se`, `dl_thp`, `ul_int`).
- `value`: KPI 측정값 (실수).

**예시 응답 (`/api/kpi/statistics` 또는 `/api/kpi/trends`):**
```json
{
  "data": [
    {
      "timestamp": "2025-08-06T00:00:00",
      "entity_id": "LHK078ML1",
      "kpi_type": "availability",
      "value": 99.15
    },
    {
      "timestamp": "2025-08-06T01:00:00",
      "entity_id": "LHK078ML1",
      "kpi_type": "availability",
      "value": 98.92
    }
  ]
}
```

## 2. 환경설정 데이터 (`/api/preferences`)

사용자가 대시보드 설정을 저장하고 로드하는 데 사용되는 데이터 모델입니다.

### `PreferenceModel` 모델
```json
{
  "id": "integer" (선택 사항, 생성 시 백엔드에서 할당),
  "name": "string",
  "description": "string" (선택 사항),
  "config": "object" (JSON 객체)
}
```
- `id`: 환경설정의 고유 식별자.
- `name`: 환경설정의 이름.
- `description`: 환경설명에 대한 간략한 설명.
- `config`: 실제 환경설정 내용을 담는 JSON 객체. 이 객체의 구조는 프론트엔드에서 정의하고 백엔드는 이를 그대로 저장하고 반환합니다.

**예시 응답 (`GET /api/preferences`):**
```json
{
  "preferences": [
    {
      "id": 1,
      "name": "My Dashboard Layout",
      "description": "Default layout for KPI dashboard",
      "config": {
        "dashboard_items": [
          {"kpi": "availability", "chart_type": "line"},
          {"kpi": "rrc", "chart_type": "bar"}
        ]
      }
    }
  ]
}
```

## 3. 종합 분석 리포트 데이터 (`/api/reports/summary`)

종합 분석 리포트 내용을 전송하는 데 사용되는 데이터 모델입니다.

### `SummaryReport` 모델
```json
{
  "id": "integer",
  "title": "string",
  "content": "string",
  "generated_at": "YYYY-MM-DDTHH:MM:SS"
}
```
- `id`: 리포트의 고유 식별자.
- `title`: 리포트의 제목.
- `content`: 리포트의 본문 내용 (마크다운 형식 문자열).
- `generated_at`: 리포트가 생성된 시간 (ISO 8601 형식 문자열).

**예시 응답 (`GET /api/reports/summary`):**
```json
{
  "reports": [
    {
      "id": 1,
      "title": "주간 네트워크 성능 분석 리포트",
      "content": "# 주간 네트워크 성능 분석 리포트\n\n## 요약\n...",
      "generated_at": "2024-08-13T10:00:00"
    }
  ]
}
```

## 4. 마스터 데이터 (`/api/master/pegs`, `/api/master/cells`)

시스템에 등록된 PEG 및 Cell 목록을 제공하는 데 사용되는 데이터 모델입니다.

### PEG 목록 (`/api/master/pegs`)
```json
{
  "pegs": [
    {
      "id": "string",
      "name": "string"
    }
  ]
}
```
- `id`: PEG의 고유 식별자 (예: `PEG001`).
- `name`: PEG의 이름 (예: `Seoul Central`).

### Cell 목록 (`/api/master/cells`)
```json
{
  "cells": [
    {
      "id": "string",
      "name": "string"
    }
  ]
}
```
- `id`: Cell의 고유 식별자 (예: `LHK078ML1`).
- `name`: Cell의 이름 (예: `Seoul-Gangnam-001`).

이러한 데이터 구조는 백엔드와 프론트엔드 간의 통신을 표준화하여 데이터 일관성과 효율적인 개발을 보장합니다.

