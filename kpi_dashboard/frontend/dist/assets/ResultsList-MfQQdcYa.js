import{M as e,r as a,a3 as F}from"./vendor-D_Wz334c.js";import{r as y,s as we,a as ne,C as Ce,b as ke,c as ye,B as se,e as f,d as ve,L as Q,I as ee}from"./index-BAtDSpDQ.js";import{x as Ie,y as Se,z as ze,A as Re,D as Ae,B as Fe,E as Oe,F as Ee,G as Me}from"./ui-vendor-D1gbbhYx.js";import{u as De,X as q,d as te,f as Le,v as Te,w as $e,x as ae,b as ce,a as He,y as ie,h as Be,L as oe,n as de}from"./icon-vendor-DhUEaqm7.js";import Pe from"./ResultDetail-BoGfniGW.js";import"./utils-vendor-DrCDvq1f.js";import"./scroll-area-DLqPd2TV.js";import"./chart-vendor-C0q5LQDY.js";function Ke({className:r,...n}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:y("w-full caption-bottom text-sm",r),...n})})}function Ve({className:r,...n}){return e.jsx("thead",{"data-slot":"table-header",className:y("[&_tr]:border-b",r),...n})}function _e({className:r,...n}){return e.jsx("tbody",{"data-slot":"table-body",className:y("[&_tr:last-child]:border-0",r),...n})}function me({className:r,...n}){return e.jsx("tr",{"data-slot":"table-row",className:y("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r),...n})}function K({className:r,...n}){return e.jsx("th",{"data-slot":"table-head",className:y("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...n})}function V({className:r,...n}){return e.jsx("td",{"data-slot":"table-cell",className:y("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...n})}function ue({...r}){return e.jsx(Ie,{"data-slot":"alert-dialog",...r})}function he({...r}){return e.jsx(Se,{"data-slot":"alert-dialog-trigger",...r})}function Ue({...r}){return e.jsx(Ee,{"data-slot":"alert-dialog-portal",...r})}function qe({className:r,...n}){return e.jsx(Me,{"data-slot":"alert-dialog-overlay",className:y("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...n})}function xe({className:r,...n}){return e.jsxs(Ue,{children:[e.jsx(qe,{}),e.jsx(ze,{"data-slot":"alert-dialog-content",className:y("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...n})]})}function je({className:r,...n}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:y("flex flex-col gap-2 text-center sm:text-left",r),...n})}function fe({className:r,...n}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:y("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...n})}function ge({className:r,...n}){return e.jsx(Re,{"data-slot":"alert-dialog-title",className:y("text-lg font-semibold",r),...n})}function pe({className:r,...n}){return e.jsx(Ae,{"data-slot":"alert-dialog-description",className:y("text-muted-foreground text-sm",r),...n})}function Ne({className:r,...n}){return e.jsx(Oe,{className:y(we(),r),...n})}function be({className:r,...n}){return e.jsx(Fe,{className:y(we({variant:"outline"}),r),...n})}const Ge=({initialLimit:r=20,autoFetch:n=!0,initialFilters:z={}}={})=>{const[b,E]=a.useState([]),[w,C]=a.useState(!1),[O,R]=a.useState(null),[v,M]=a.useState(!0),[I,S]=a.useState({limit:r,skip:0,total:0}),[i,L]=a.useState({neId:"",cellId:"",startDate:null,endDate:null,status:"",...z}),l=a.useCallback((o,g={})=>{console.log(`[useAnalysisResults] ${o}`,g)},[]),p=a.useCallback((o,g)=>{console.error(`[useAnalysisResults] ${o}`,g)},[]),m=a.useCallback(async({limit:o=I.limit,skip:g=0,append:$=!1,showToast:U=!0}={})=>{var D,H,Y,s,d,u,x,h,A,B,le;try{C(!0),R(null),l("분석 결과 조회 시작",{limit:o,skip:g,filters:i});const k={limit:o,skip:g};(D=i.neId)!=null&&D.trim()&&(k.neId=i.neId.trim()),(H=i.cellId)!=null&&H.trim()&&(k.cellId=i.cellId.trim()),i.startDate&&(k.startDate=i.startDate),i.endDate&&(k.endDate=i.endDate),(Y=i.status)!=null&&Y.trim()&&(k.status=i.status.trim());const P=await ne.get("/api/analysis/results",{params:k});l("분석 결과 조회 성공",{resultCount:((d=(s=P.data)==null?void 0:s.items)==null?void 0:d.length)||0,total:((u=P.data)==null?void 0:u.total)||0,totalRequested:o});const X=((x=P.data)==null?void 0:x.items)||[];return E($?Z=>[...Z,...X]:X),S(Z=>{var re;return{...Z,skip:$?Z.skip+X.length:g+X.length,total:((re=P.data)==null?void 0:re.total)||0}}),M(((h=P.data)==null?void 0:h.has_next)||!1),U&&!$&&F.success(`${X.length}개의 분석 결과를 불러왔습니다.`),X}catch(k){const P=((le=(B=(A=k==null?void 0:k.response)==null?void 0:A.data)==null?void 0:B.error)==null?void 0:le.message)||(k==null?void 0:k.message)||"분석 결과를 불러오는 중 오류가 발생했습니다.";return p("분석 결과 조회 실패",k),R(P),U&&F.error(`데이터 조회 실패: ${P}`),[]}finally{C(!1)}},[I.limit,i,l,p]),G=a.useCallback(o=>{l("필터 업데이트",{이전:i,새로운:o}),L(g=>({...g,...o})),S(g=>({...g,skip:0}))},[i,l]),T=a.useCallback(()=>{l("필터 초기화"),L({neId:"",cellId:"",startDate:null,endDate:null,status:""}),S(o=>({...o,skip:0}))},[l]),_=a.useCallback(async()=>{if(w||!v){l("추가 로딩 건너뜀",{loading:w,hasMore:v});return}l("추가 결과 로딩 시작"),await m({skip:I.skip,append:!0,showToast:!1})},[w,v,m,I.skip,l]),t=a.useCallback(async()=>{l("데이터 새로고침 시작"),S(o=>({...o,skip:0})),await m({skip:0,append:!1})},[m,l]),c=a.useCallback(async o=>{var g,$,U;try{l("분석 결과 삭제 시작",{resultId:o}),await ne.delete(`/api/analysis/results/${o}`),E(D=>D.filter(H=>H.id!==o)),l("분석 결과 삭제 성공",{resultId:o}),F.success("분석 결과가 삭제되었습니다.")}catch(D){const H=((U=($=(g=D==null?void 0:D.response)==null?void 0:g.data)==null?void 0:$.error)==null?void 0:U.message)||(D==null?void 0:D.message)||"분석 결과 삭제 중 오류가 발생했습니다.";p("분석 결과 삭제 실패",D),F.error(`삭제 실패: ${H}`)}},[l,p]);a.useEffect(()=>{n&&(l("컴포넌트 마운트 - 자동 데이터 조회 시작"),m({skip:0,append:!1,showToast:!1}))},[n]),a.useEffect(()=>{n&&(l("필터 변경 감지 - 데이터 재조회"),m({skip:0,append:!1,showToast:!1}))},[i]);const N=a.useMemo(()=>!w&&b.length===0,[w,b.length]),j=a.useMemo(()=>Object.values(i).some(o=>o!=null&&o!==""),[i]),J=a.useMemo(()=>b.length,[b.length]),W=a.useMemo(()=>({resultCount:J,loading:w,hasMore:v,isEmpty:N,isFiltered:j,pagination:I,filters:i,error:O}),[J,w,v,N,j,I,i,O]);return a.useEffect(()=>{},[W]),{results:b,loading:w,error:O,isEmpty:N,hasMore:v,isFiltered:j,resultCount:J,pagination:I,filters:i,updateFilters:G,clearFilters:T,fetchResults:m,refresh:t,loadMore:_,deleteResult:c,debugInfo:W}},Xe=({filters:r={},onFilterChange:n,onClearFilters:z,isCollapsed:b=!1,onToggleCollapse:E,showActiveCount:w=!0})=>{const C=a.useCallback((t,c={})=>{console.log(`[ResultFilter] ${t}`,c)},[]),{neId:O="",cellId:R="",startDate:v=null,endDate:M=null,status:I=""}=r,S={...O&&{"NE ID":O},...R&&{"Cell ID":R},...v&&{시작일:new Date(v).toLocaleDateString("ko-KR")},...M&&{종료일:new Date(M).toLocaleDateString("ko-KR")},...I&&{상태:I}},i=Object.keys(S).length,L=i>0,l=a.useCallback((t,c)=>{C("필터 변경",{key:t,value:c}),n&&n(t,c)},[n,C]),p=a.useCallback(t=>{C("개별 필터 초기화",{key:t}),l(t,t==="startDate"||t==="endDate"?null:"")},[l,C]),m=a.useCallback(()=>{C("전체 필터 초기화"),z&&z()},[z,C]),G=a.useCallback(t=>{if(!t)return"";try{return new Date(t).toISOString().split("T")[0]}catch{return""}},[]),T=a.useCallback(t=>{if(!t)return null;try{return new Date(t).toISOString()}catch{return null}},[]),_=a.useCallback(()=>{C("필터 패널 토글",{isCollapsed:!b}),E&&E()},[b,E,C]);return e.jsxs(Ce,{className:"w-full",children:[e.jsxs(ke,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ye,{className:"text-lg flex items-center gap-2",children:[e.jsx(De,{className:"h-5 w-5"}),"필터"]}),w&&L&&e.jsxs(se,{variant:"secondary",className:"text-xs",children:[i,"개 활성"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[L&&e.jsxs(f,{variant:"ghost",size:"sm",onClick:m,className:"text-destructive hover:text-destructive",children:[e.jsx(q,{className:"h-4 w-4 mr-1"}),"전체 초기화"]}),e.jsx(f,{variant:"ghost",size:"sm",onClick:_,children:b?e.jsx(te,{className:"h-4 w-4"}):e.jsx(Le,{className:"h-4 w-4"})})]})]}),L&&!b&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:Object.entries(S).map(([t,c])=>e.jsxs(se,{variant:"outline",className:"flex items-center gap-1 pr-1",children:[e.jsxs("span",{className:"text-xs",children:[t,": ",c]}),e.jsx(f,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground",onClick:()=>{const j={"NE ID":"neId","Cell ID":"cellId",시작일:"startDate",종료일:"endDate",상태:"status"}[t];j&&p(j)},children:e.jsx(q,{className:"h-3 w-3"})})]},t))})]}),!b&&e.jsxs(ve,{className:"pt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"filter-ne",className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"NE ID"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{id:"filter-ne",placeholder:"NE ID 검색...",value:O,onChange:t=>l("neId",t.target.value),className:"pr-8"}),O&&e.jsx(f,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("neId"),children:e.jsx(q,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"filter-cell",className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-4 w-4"}),"Cell ID"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{id:"filter-cell",placeholder:"Cell ID 검색...",value:R,onChange:t=>l("cellId",t.target.value),className:"pr-8"}),R&&e.jsx(f,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("cellId"),children:e.jsx(q,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"filter-start",className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"시작 날짜"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{id:"filter-start",type:"date",value:G(v),onChange:t=>l("startDate",T(t.target.value)),className:"pr-8"}),v&&e.jsx(f,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("startDate"),children:e.jsx(q,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"filter-end",className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"종료 날짜"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{id:"filter-end",type:"date",value:G(M),onChange:t=>l("endDate",T(t.target.value)),className:"pr-8"}),M&&e.jsx(f,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("endDate"),children:e.jsx(q,{className:"h-3 w-3"})})]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx(Q,{className:"text-sm font-medium mb-3 block",children:"빠른 날짜 선택"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"오늘",days:0},{label:"어제",days:1},{label:"최근 7일",days:7},{label:"최근 30일",days:30},{label:"최근 90일",days:90}].map(({label:t,days:c})=>e.jsx(f,{variant:"outline",size:"sm",onClick:()=>{const N=new Date,j=new Date;c===0?(j.setHours(0,0,0,0),N.setHours(23,59,59,999)):c===1?(j.setDate(j.getDate()-1),j.setHours(0,0,0,0),N.setDate(N.getDate()-1),N.setHours(23,59,59,999)):(j.setDate(j.getDate()-c),j.setHours(0,0,0,0),N.setHours(23,59,59,999)),l("startDate",j.toISOString()),l("endDate",N.toISOString()),C("빠른 날짜 선택",{label:t,startDate:j,endDate:N})},children:t},t))})]})]})]})},as=()=>{const{results:r,loading:n,error:z,isEmpty:b,hasMore:E,isFiltered:w,resultCount:C,filters:O,updateFilters:R,clearFilters:v,refresh:M,loadMore:I,deleteResult:S}=Ge({initialLimit:20,autoFetch:!0}),[i,L]=a.useState(!1),[l,p]=a.useState(new Set),[m,G]=a.useState({key:"analysisDate",direction:"desc"}),[T,_]=a.useState({isOpen:!1,resultIds:[],mode:"single"}),t=a.useCallback((s,d={})=>{console.log(`[ResultsList] ${s}`,d)},[]),c=a.useMemo(()=>r!=null&&r.length?[...r].sort((d,u)=>{const x=d[m.key],h=u[m.key];if(x==null)return 1;if(h==null)return-1;if(m.key==="analysisDate"){const A=new Date(x),B=new Date(h);return m.direction==="asc"?A-B:B-A}if(typeof x=="string"&&typeof h=="string"){const A=x.localeCompare(h);return m.direction==="asc"?A:-A}return typeof x=="number"&&typeof h=="number"?m.direction==="asc"?x-h:h-x:0}):[],[r,m]),N=a.useCallback(s=>{G(d=>{const u=d.key===s&&d.direction==="asc"?"desc":"asc";return t("정렬 변경",{key:s,direction:u}),{key:s,direction:u}})},[t]);a.useCallback(s=>{R(s),t("필터 변경",s)},[R,t]);const j=a.useCallback(s=>{p(d=>{const u=new Set(d);return u.has(s)?u.delete(s):u.add(s),u})},[]),J=a.useCallback(()=>{l.size===c.length?p(new Set):p(new Set(c.map(s=>s.id)))},[l.size,c]),W=a.useCallback(async s=>{try{t("분석 결과 삭제 시작",{resultId:s}),await S(s),p(d=>{const u=new Set(d);return u.delete(s),u})}catch(d){t("분석 결과 삭제 실패",{resultId:s,error:d})}},[S,t]),o=a.useCallback(async()=>{if(l.size!==0)try{t("벌크 삭제 시작",{count:l.size});const s=Array.from(l).map(d=>S(d));await Promise.all(s),p(new Set),F.success(`${l.size}개의 결과가 삭제되었습니다.`)}catch(s){t("벌크 삭제 실패",{error:s}),F.error("일부 결과 삭제에 실패했습니다.")}},[l,S,t]),g=a.useCallback(s=>{t("상세 보기 요청",{resultId:s}),_({isOpen:!0,resultIds:[s],mode:"single"})},[t]),$=a.useCallback(()=>{if(l.size<2){F.error("비교할 결과를 2개 이상 선택해주세요");return}if(l.size>5){F.error("최대 5개까지만 비교할 수 있습니다");return}const s=Array.from(l);t("비교 보기 요청",{resultIds:s,count:s.length}),_({isOpen:!0,resultIds:s,mode:"compare"})},[l,t]),U=a.useCallback(()=>{_({isOpen:!1,resultIds:[],mode:"single"})},[]),D=a.useCallback(()=>{if(!(c!=null&&c.length)){F.error("내보낼 데이터가 없습니다.");return}try{t("데이터 내보내기 시작",{count:c.length});const s=c.map(h=>{var A,B;return{"분석 날짜":new Date(h.analysisDate).toLocaleString("ko-KR"),"NE ID":h.neId,"Cell ID":h.cellId,상태:h.status,"결과 수":((A=h.results)==null?void 0:A.length)||0,"통계 수":((B=h.stats)==null?void 0:B.length)||0}}),d=[Object.keys(s[0]).join(","),...s.map(h=>Object.values(h).join(","))].join(`
`),u=new Blob([d],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");x.href=URL.createObjectURL(u),x.download=`analysis_results_${new Date().toISOString().split("T")[0]}.csv`,x.click(),F.success("데이터가 내보내기 되었습니다."),t("데이터 내보내기 완료")}catch(s){t("데이터 내보내기 실패",{error:s}),F.error("데이터 내보내기에 실패했습니다.")}},[c,t]),H=a.useCallback(s=>{switch(s==null?void 0:s.toLowerCase()){case"success":return"default";case"error":case"failed":return"destructive";case"warning":return"secondary";case"pending":case"processing":return"outline";default:return"secondary"}},[]),Y=a.useCallback(s=>{try{return new Date(s).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return s||"-"}},[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"LLM 분석 결과"}),e.jsxs("p",{className:"text-muted-foreground",children:["총 ",C,"개의 분석 결과",w&&" (필터 적용됨)"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.size>0&&e.jsxs(e.Fragment,{children:[l.size>=2&&e.jsxs(f,{variant:"default",size:"sm",onClick:$,children:[e.jsx(BarChart3,{className:"h-4 w-4 mr-2"}),"비교하기 (",l.size,")"]}),e.jsxs(ue,{children:[e.jsx(he,{asChild:!0,children:e.jsxs(f,{variant:"destructive",size:"sm",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"선택 삭제 (",l.size,")"]})}),e.jsxs(xe,{children:[e.jsxs(je,{children:[e.jsx(ge,{children:"선택된 결과 삭제"}),e.jsxs(pe,{children:["선택된 ",l.size,"개의 분석 결과를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."]})]}),e.jsxs(fe,{children:[e.jsx(be,{children:"취소"}),e.jsx(Ne,{onClick:o,children:"삭제"})]})]})]})]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:D,disabled:!(c!=null&&c.length),children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"내보내기"]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:()=>L(!i),children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"필터",e.jsx(te,{className:`h-4 w-4 ml-2 transition-transform ${i?"rotate-180":""}`})]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:M,disabled:n,children:[e.jsx(ie,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"새로고침"]})]})]}),i&&e.jsx(Xe,{filters:O,onFilterChange:(s,d)=>R({[s]:d}),onClearFilters:v,isCollapsed:!1,onToggleCollapse:()=>L(!1),showActiveCount:!0}),e.jsx(Ce,{children:e.jsxs(ve,{className:"p-0",children:[z&&e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(Be,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"데이터 로딩 오류"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:z}),e.jsxs(f,{onClick:M,variant:"outline",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"다시 시도"]})]}),n&&b&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(oe,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"분석 결과를 불러오는 중..."})]}),!n&&b&&!z&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(de,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:w?"검색 결과가 없습니다":"분석 결과가 없습니다"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:w?"다른 조건으로 검색해보세요.":"아직 생성된 분석 결과가 없습니다."}),w&&e.jsxs(f,{onClick:v,variant:"outline",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"필터 초기화"]})]}),!b&&!z&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ke,{children:[e.jsx(Ve,{children:e.jsxs(me,{children:[e.jsx(K,{className:"w-12",children:e.jsx("input",{type:"checkbox",checked:l.size===c.length&&c.length>0,onChange:J,className:"rounded border-gray-300"})}),e.jsxs(K,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>N("analysisDate"),children:["분석 날짜",m.key==="analysisDate"&&e.jsx("span",{className:"ml-2",children:m.direction==="asc"?"↑":"↓"})]}),e.jsxs(K,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>N("neId"),children:["NE ID",m.key==="neId"&&e.jsx("span",{className:"ml-2",children:m.direction==="asc"?"↑":"↓"})]}),e.jsxs(K,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>N("cellId"),children:["Cell ID",m.key==="cellId"&&e.jsx("span",{className:"ml-2",children:m.direction==="asc"?"↑":"↓"})]}),e.jsx(K,{children:"상태"}),e.jsx(K,{className:"text-center",children:"결과 수"}),e.jsx(K,{className:"text-center",children:"통계 수"}),e.jsx(K,{className:"w-20",children:"작업"})]})}),e.jsx(_e,{children:c.map(s=>{var d,u;return e.jsxs(me,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>g(s.id),children:[e.jsx(V,{onClick:x=>x.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:l.has(s.id),onChange:()=>j(s.id),className:"rounded border-gray-300"})}),e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4 text-muted-foreground"}),Y(s.analysisDate)]})}),e.jsx(V,{className:"font-medium",children:s.neId||"-"}),e.jsx(V,{className:"font-medium",children:s.cellId||"-"}),e.jsx(V,{children:e.jsx(se,{variant:H(s.status),children:s.status||"unknown"})}),e.jsx(V,{className:"text-center",children:((d=s.results)==null?void 0:d.length)||0}),e.jsx(V,{className:"text-center",children:((u=s.stats)==null?void 0:u.length)||0}),e.jsx(V,{onClick:x=>x.stopPropagation(),children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>g(s.id),title:"상세 보기",children:e.jsx(de,{className:"h-4 w-4"})}),e.jsxs(ue,{children:[e.jsx(he,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"sm",title:"삭제",children:e.jsx(ce,{className:"h-4 w-4 text-destructive"})})}),e.jsxs(xe,{children:[e.jsxs(je,{children:[e.jsx(ge,{children:"분석 결과 삭제"}),e.jsx(pe,{children:"이 분석 결과를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."})]}),e.jsxs(fe,{children:[e.jsx(be,{children:"취소"}),e.jsx(Ne,{onClick:()=>W(s.id),children:"삭제"})]})]})]})]})})]},s.id)})})]})}),E&&!n&&!z&&e.jsx("div",{className:"p-6 text-center border-t",children:e.jsxs(f,{variant:"outline",onClick:I,disabled:n,children:[n?e.jsx(oe,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(te,{className:"h-4 w-4 mr-2"}),"더 보기"]})})]})}),e.jsx(Pe,{isOpen:T.isOpen,onClose:U,resultIds:T.resultIds,mode:T.mode})]})};export{as as default};
