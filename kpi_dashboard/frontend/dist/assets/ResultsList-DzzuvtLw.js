import{j as e,af as be,ag as we,ah as Ce,ai as ve,aj as De,ak as ke,al as ye,am as Ie,an as Se,r as a,ao as ge,X as _,w as Y,K as ze,ap as Re,aq as Ae,ar as Z,o as se,n as Fe,as as te,_ as Oe,at as ae,a8 as le}from"./react-vendor-BbkKAD8O.js";import{q as y,r as fe,a as ne,C as pe,b as Ee,c as Me,B as ee,e as j,d as Ne,L as G,I as W}from"./index-CvEd_8oR.js";import{a4 as F}from"./vendor-B4aOkbPy.js";import Le from"./ResultDetail-CQuUO92x.js";import"./ui-vendor-BA32w1ww.js";import"./utils-vendor-DgsWbSrd.js";import"./scroll-area-E1Oa0Jgs.js";import"./chart-vendor-DLa56ojw.js";function Te({className:n,...r}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:y("w-full caption-bottom text-sm",n),...r})})}function $e({className:n,...r}){return e.jsx("thead",{"data-slot":"table-header",className:y("[&_tr]:border-b",n),...r})}function He({className:n,...r}){return e.jsx("tbody",{"data-slot":"table-body",className:y("[&_tr:last-child]:border-0",n),...r})}function re({className:n,...r}){return e.jsx("tr",{"data-slot":"table-row",className:y("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...r})}function B({className:n,...r}){return e.jsx("th",{"data-slot":"table-head",className:y("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...r})}function K({className:n,...r}){return e.jsx("td",{"data-slot":"table-cell",className:y("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...r})}function ce({...n}){return e.jsx(be,{"data-slot":"alert-dialog",...n})}function ie({...n}){return e.jsx(we,{"data-slot":"alert-dialog-trigger",...n})}function Be({...n}){return e.jsx(Ie,{"data-slot":"alert-dialog-portal",...n})}function Ke({className:n,...r}){return e.jsx(Se,{"data-slot":"alert-dialog-overlay",className:y("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...r})}function oe({className:n,...r}){return e.jsxs(Be,{children:[e.jsx(Ke,{}),e.jsx(Ce,{"data-slot":"alert-dialog-content",className:y("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...r})]})}function de({className:n,...r}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:y("flex flex-col gap-2 text-center sm:text-left",n),...r})}function me({className:n,...r}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:y("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...r})}function ue({className:n,...r}){return e.jsx(ve,{"data-slot":"alert-dialog-title",className:y("text-lg font-semibold",n),...r})}function he({className:n,...r}){return e.jsx(De,{"data-slot":"alert-dialog-description",className:y("text-muted-foreground text-sm",n),...r})}function xe({className:n,...r}){return e.jsx(ye,{className:y(fe(),n),...r})}function je({className:n,...r}){return e.jsx(ke,{className:y(fe({variant:"outline"}),n),...r})}const Pe=({initialLimit:n=20,autoFetch:r=!0,initialFilters:R={}}={})=>{const[b,E]=a.useState([]),[w,C]=a.useState(!1),[O,A]=a.useState(null),[v,M]=a.useState(!0),[S,z]=a.useState({limit:n,skip:0,total:0}),[o,L]=a.useState({neId:"",cellId:"",startDate:null,endDate:null,status:"",...R}),l=a.useCallback((d,g={})=>{console.log(`[useAnalysisResults] ${d}`,g)},[]),p=a.useCallback((d,g)=>{console.error(`[useAnalysisResults] ${d}`,g)},[]),m=a.useCallback(async({limit:d=S.limit,skip:g=0,append:$=!1,showToast:V=!0}={})=>{var D,H,Q,s,u,f,h;try{C(!0),A(null),l("분석 결과 조회 시작",{limit:d,skip:g,filters:o});const c={limit:d,skip:g};(D=o.neId)!=null&&D.trim()&&(c.neId=o.neId.trim()),(H=o.cellId)!=null&&H.trim()&&(c.cellId=o.cellId.trim()),o.startDate&&(c.startDate=o.startDate),o.endDate&&(c.endDate=o.endDate),(Q=o.status)!=null&&Q.trim()&&(c.status=o.status.trim());const k=await ne.get("/api/analysis/results",{params:c});l("분석 결과 조회 성공",{resultCount:((s=k.data)==null?void 0:s.length)||0,totalRequested:d});const I=k.data||[];return E($?X=>[...X,...I]:I),z(X=>({...X,skip:$?X.skip+I.length:g+I.length,total:X.total})),M(I.length===d),V&&!$&&F.success(`${I.length}개의 분석 결과를 불러왔습니다.`),I}catch(c){const k=((h=(f=(u=c==null?void 0:c.response)==null?void 0:u.data)==null?void 0:f.error)==null?void 0:h.message)||(c==null?void 0:c.message)||"분석 결과를 불러오는 중 오류가 발생했습니다.";return p("분석 결과 조회 실패",c),A(k),V&&F.error(`데이터 조회 실패: ${k}`),[]}finally{C(!1)}},[S.limit,o,l,p]),q=a.useCallback(d=>{l("필터 업데이트",{이전:o,새로운:d}),L(g=>({...g,...d})),z(g=>({...g,skip:0}))},[o,l]),T=a.useCallback(()=>{l("필터 초기화"),L({neId:"",cellId:"",startDate:null,endDate:null,status:""}),z(d=>({...d,skip:0}))},[l]),P=a.useCallback(async()=>{if(w||!v){l("추가 로딩 건너뜀",{loading:w,hasMore:v});return}l("추가 결과 로딩 시작"),await m({skip:S.skip,append:!0,showToast:!1})},[w,v,m,S.skip,l]),t=a.useCallback(async()=>{l("데이터 새로고침 시작"),z(d=>({...d,skip:0})),await m({skip:0,append:!1})},[m,l]),i=a.useCallback(async d=>{var g,$,V;try{l("분석 결과 삭제 시작",{resultId:d}),await ne.delete(`/api/analysis/results/${d}`),E(D=>D.filter(H=>H.id!==d)),l("분석 결과 삭제 성공",{resultId:d}),F.success("분석 결과가 삭제되었습니다.")}catch(D){const H=((V=($=(g=D==null?void 0:D.response)==null?void 0:g.data)==null?void 0:$.error)==null?void 0:V.message)||(D==null?void 0:D.message)||"분석 결과 삭제 중 오류가 발생했습니다.";p("분석 결과 삭제 실패",D),F.error(`삭제 실패: ${H}`)}},[l,p]);a.useEffect(()=>{r&&(l("컴포넌트 마운트 - 자동 데이터 조회 시작"),m({skip:0,append:!1,showToast:!1}))},[r]),a.useEffect(()=>{r&&(l("필터 변경 감지 - 데이터 재조회"),m({skip:0,append:!1,showToast:!1}))},[o]);const N=a.useMemo(()=>!w&&b.length===0,[w,b.length]),x=a.useMemo(()=>Object.values(o).some(d=>d!=null&&d!==""),[o]),U=a.useMemo(()=>b.length,[b.length]),J=a.useMemo(()=>({resultCount:U,loading:w,hasMore:v,isEmpty:N,isFiltered:x,pagination:S,filters:o,error:O}),[U,w,v,N,x,S,o,O]);return a.useEffect(()=>{},[J]),{results:b,loading:w,error:O,isEmpty:N,hasMore:v,isFiltered:x,resultCount:U,pagination:S,filters:o,updateFilters:q,clearFilters:T,fetchResults:m,refresh:t,loadMore:P,deleteResult:i,debugInfo:J}},Ve=({filters:n={},onFilterChange:r,onClearFilters:R,isCollapsed:b=!1,onToggleCollapse:E,showActiveCount:w=!0})=>{const C=a.useCallback((t,i={})=>{console.log(`[ResultFilter] ${t}`,i)},[]),{neId:O="",cellId:A="",startDate:v=null,endDate:M=null,status:S=""}=n,z={...O&&{"NE ID":O},...A&&{"Cell ID":A},...v&&{시작일:new Date(v).toLocaleDateString("ko-KR")},...M&&{종료일:new Date(M).toLocaleDateString("ko-KR")},...S&&{상태:S}},o=Object.keys(z).length,L=o>0,l=a.useCallback((t,i)=>{C("필터 변경",{key:t,value:i}),r&&r(t,i)},[r,C]),p=a.useCallback(t=>{C("개별 필터 초기화",{key:t}),l(t,t==="startDate"||t==="endDate"?null:"")},[l,C]),m=a.useCallback(()=>{C("전체 필터 초기화"),R&&R()},[R,C]),q=a.useCallback(t=>{if(!t)return"";try{return new Date(t).toISOString().split("T")[0]}catch{return""}},[]),T=a.useCallback(t=>{if(!t)return null;try{return new Date(t).toISOString()}catch{return null}},[]),P=a.useCallback(()=>{C("필터 패널 토글",{isCollapsed:!b}),E&&E()},[b,E,C]);return e.jsxs(pe,{className:"w-full",children:[e.jsxs(Ee,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Me,{className:"text-lg flex items-center gap-2",children:[e.jsx(ge,{className:"h-5 w-5"}),"필터"]}),w&&L&&e.jsxs(ee,{variant:"secondary",className:"text-xs",children:[o,"개 활성"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[L&&e.jsxs(j,{variant:"ghost",size:"sm",onClick:m,className:"text-destructive hover:text-destructive",children:[e.jsx(_,{className:"h-4 w-4 mr-1"}),"전체 초기화"]}),e.jsx(j,{variant:"ghost",size:"sm",onClick:P,children:b?e.jsx(Y,{className:"h-4 w-4"}):e.jsx(ze,{className:"h-4 w-4"})})]})]}),L&&!b&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:Object.entries(z).map(([t,i])=>e.jsxs(ee,{variant:"outline",className:"flex items-center gap-1 pr-1",children:[e.jsxs("span",{className:"text-xs",children:[t,": ",i]}),e.jsx(j,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground",onClick:()=>{const x={"NE ID":"neId","Cell ID":"cellId",시작일:"startDate",종료일:"endDate",상태:"status"}[t];x&&p(x)},children:e.jsx(_,{className:"h-3 w-3"})})]},t))})]}),!b&&e.jsxs(Ne,{className:"pt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:"filter-ne",className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4"}),"NE ID"]}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{id:"filter-ne",placeholder:"NE ID 검색...",value:O,onChange:t=>l("neId",t.target.value),className:"pr-8"}),O&&e.jsx(j,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("neId"),children:e.jsx(_,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:"filter-cell",className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Cell ID"]}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{id:"filter-cell",placeholder:"Cell ID 검색...",value:A,onChange:t=>l("cellId",t.target.value),className:"pr-8"}),A&&e.jsx(j,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("cellId"),children:e.jsx(_,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:"filter-start",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"시작 날짜"]}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{id:"filter-start",type:"date",value:q(v),onChange:t=>l("startDate",T(t.target.value)),className:"pr-8"}),v&&e.jsx(j,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("startDate"),children:e.jsx(_,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(G,{htmlFor:"filter-end",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"종료 날짜"]}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{id:"filter-end",type:"date",value:q(M),onChange:t=>l("endDate",T(t.target.value)),className:"pr-8"}),M&&e.jsx(j,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("endDate"),children:e.jsx(_,{className:"h-3 w-3"})})]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx(G,{className:"text-sm font-medium mb-3 block",children:"빠른 날짜 선택"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"오늘",days:0},{label:"어제",days:1},{label:"최근 7일",days:7},{label:"최근 30일",days:30},{label:"최근 90일",days:90}].map(({label:t,days:i})=>e.jsx(j,{variant:"outline",size:"sm",onClick:()=>{const N=new Date,x=new Date;i===0?(x.setHours(0,0,0,0),N.setHours(23,59,59,999)):i===1?(x.setDate(x.getDate()-1),x.setHours(0,0,0,0),N.setDate(N.getDate()-1),N.setHours(23,59,59,999)):(x.setDate(x.getDate()-i),x.setHours(0,0,0,0),N.setHours(23,59,59,999)),l("startDate",x.toISOString()),l("endDate",N.toISOString()),C("빠른 날짜 선택",{label:t,startDate:x,endDate:N})},children:t},t))})]})]})]})},Ye=()=>{const{results:n,loading:r,error:R,isEmpty:b,hasMore:E,isFiltered:w,resultCount:C,filters:O,updateFilters:A,clearFilters:v,refresh:M,loadMore:S,deleteResult:z}=Pe({initialLimit:20,autoFetch:!0}),[o,L]=a.useState(!1),[l,p]=a.useState(new Set),[m,q]=a.useState({key:"analysisDate",direction:"desc"}),[T,P]=a.useState({isOpen:!1,resultIds:[],mode:"single"}),t=a.useCallback((s,u={})=>{console.log(`[ResultsList] ${s}`,u)},[]),i=a.useMemo(()=>n!=null&&n.length?[...n].sort((u,f)=>{const h=u[m.key],c=f[m.key];if(h==null)return 1;if(c==null)return-1;if(m.key==="analysisDate"){const k=new Date(h),I=new Date(c);return m.direction==="asc"?k-I:I-k}if(typeof h=="string"&&typeof c=="string"){const k=h.localeCompare(c);return m.direction==="asc"?k:-k}return typeof h=="number"&&typeof c=="number"?m.direction==="asc"?h-c:c-h:0}):[],[n,m]),N=a.useCallback(s=>{q(u=>({key:s,direction:u.key===s&&u.direction==="asc"?"desc":"asc"})),t("정렬 변경",{key:s,direction:m.direction})},[m.direction,t]);a.useCallback(s=>{A(s),t("필터 변경",s)},[A,t]);const x=a.useCallback(s=>{p(u=>{const f=new Set(u);return f.has(s)?f.delete(s):f.add(s),f})},[]),U=a.useCallback(()=>{l.size===i.length?p(new Set):p(new Set(i.map(s=>s.id)))},[l.size,i]),J=a.useCallback(async s=>{try{t("분석 결과 삭제 시작",{resultId:s}),await z(s),p(u=>{const f=new Set(u);return f.delete(s),f})}catch(u){t("분석 결과 삭제 실패",{resultId:s,error:u})}},[z,t]),d=a.useCallback(async()=>{if(l.size!==0)try{t("벌크 삭제 시작",{count:l.size});const s=Array.from(l).map(u=>z(u));await Promise.all(s),p(new Set),F.success(`${l.size}개의 결과가 삭제되었습니다.`)}catch(s){t("벌크 삭제 실패",{error:s}),F.error("일부 결과 삭제에 실패했습니다.")}},[l,z,t]),g=a.useCallback(s=>{t("상세 보기 요청",{resultId:s}),P({isOpen:!0,resultIds:[s],mode:"single"})},[t]),$=a.useCallback(()=>{if(l.size<2){F.error("비교할 결과를 2개 이상 선택해주세요");return}if(l.size>5){F.error("최대 5개까지만 비교할 수 있습니다");return}const s=Array.from(l);t("비교 보기 요청",{resultIds:s,count:s.length}),P({isOpen:!0,resultIds:s,mode:"compare"})},[l,t]),V=a.useCallback(()=>{P({isOpen:!1,resultIds:[],mode:"single"})},[]),D=a.useCallback(()=>{if(!(i!=null&&i.length)){F.error("내보낼 데이터가 없습니다.");return}try{t("데이터 내보내기 시작",{count:i.length});const s=i.map(c=>{var k,I;return{"분석 날짜":new Date(c.analysisDate).toLocaleString("ko-KR"),"NE ID":c.neId,"Cell ID":c.cellId,상태:c.status,"결과 수":((k=c.results)==null?void 0:k.length)||0,"통계 수":((I=c.stats)==null?void 0:I.length)||0}}),u=[Object.keys(s[0]).join(","),...s.map(c=>Object.values(c).join(","))].join(`
`),f=new Blob([u],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.href=URL.createObjectURL(f),h.download=`analysis_results_${new Date().toISOString().split("T")[0]}.csv`,h.click(),F.success("데이터가 내보내기 되었습니다."),t("데이터 내보내기 완료")}catch(s){t("데이터 내보내기 실패",{error:s}),F.error("데이터 내보내기에 실패했습니다.")}},[i,t]),H=a.useCallback(s=>{switch(s==null?void 0:s.toLowerCase()){case"success":return"default";case"error":case"failed":return"destructive";case"warning":return"secondary";case"pending":case"processing":return"outline";default:return"secondary"}},[]),Q=a.useCallback(s=>{try{return new Date(s).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return s||"-"}},[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"LLM 분석 결과"}),e.jsxs("p",{className:"text-muted-foreground",children:["총 ",C,"개의 분석 결과",w&&" (필터 적용됨)"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.size>0&&e.jsxs(e.Fragment,{children:[l.size>=2&&e.jsxs(j,{variant:"default",size:"sm",onClick:$,children:[e.jsx(BarChart3,{className:"h-4 w-4 mr-2"}),"비교하기 (",l.size,")"]}),e.jsxs(ce,{children:[e.jsx(ie,{asChild:!0,children:e.jsxs(j,{variant:"destructive",size:"sm",children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"선택 삭제 (",l.size,")"]})}),e.jsxs(oe,{children:[e.jsxs(de,{children:[e.jsx(ue,{children:"선택된 결과 삭제"}),e.jsxs(he,{children:["선택된 ",l.size,"개의 분석 결과를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."]})]}),e.jsxs(me,{children:[e.jsx(je,{children:"취소"}),e.jsx(xe,{onClick:d,children:"삭제"})]})]})]})]}),e.jsxs(j,{variant:"outline",size:"sm",onClick:D,disabled:!(i!=null&&i.length),children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"내보내기"]}),e.jsxs(j,{variant:"outline",size:"sm",onClick:()=>L(!o),children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"필터",e.jsx(Y,{className:`h-4 w-4 ml-2 transition-transform ${o?"rotate-180":""}`})]}),e.jsxs(j,{variant:"outline",size:"sm",onClick:M,disabled:r,children:[e.jsx(te,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"새로고침"]})]})]}),o&&e.jsx(Ve,{filters:O,onFilterChange:(s,u)=>A({[s]:u}),onClearFilters:v,isCollapsed:!1,onToggleCollapse:()=>L(!1),showActiveCount:!0}),e.jsx(pe,{children:e.jsxs(Ne,{className:"p-0",children:[R&&e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(Oe,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"데이터 로딩 오류"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:R}),e.jsxs(j,{onClick:M,variant:"outline",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"다시 시도"]})]}),r&&b&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(ae,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"분석 결과를 불러오는 중..."})]}),!r&&b&&!R&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(le,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:w?"검색 결과가 없습니다":"분석 결과가 없습니다"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:w?"다른 조건으로 검색해보세요.":"아직 생성된 분석 결과가 없습니다."}),w&&e.jsxs(j,{onClick:v,variant:"outline",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"필터 초기화"]})]}),!b&&!R&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Te,{children:[e.jsx($e,{children:e.jsxs(re,{children:[e.jsx(B,{className:"w-12",children:e.jsx("input",{type:"checkbox",checked:l.size===i.length&&i.length>0,onChange:U,className:"rounded border-gray-300"})}),e.jsxs(B,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>N("analysisDate"),children:["분석 날짜",m.key==="analysisDate"&&e.jsx("span",{className:"ml-2",children:m.direction==="asc"?"↑":"↓"})]}),e.jsxs(B,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>N("neId"),children:["NE ID",m.key==="neId"&&e.jsx("span",{className:"ml-2",children:m.direction==="asc"?"↑":"↓"})]}),e.jsxs(B,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>N("cellId"),children:["Cell ID",m.key==="cellId"&&e.jsx("span",{className:"ml-2",children:m.direction==="asc"?"↑":"↓"})]}),e.jsx(B,{children:"상태"}),e.jsx(B,{className:"text-center",children:"결과 수"}),e.jsx(B,{className:"text-center",children:"통계 수"}),e.jsx(B,{className:"w-20",children:"작업"})]})}),e.jsx(He,{children:i.map(s=>{var u,f;return e.jsxs(re,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>g(s.id),children:[e.jsx(K,{onClick:h=>h.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:l.has(s.id),onChange:()=>x(s.id),className:"rounded border-gray-300"})}),e.jsx(K,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),Q(s.analysisDate)]})}),e.jsx(K,{className:"font-medium",children:s.neId||"-"}),e.jsx(K,{className:"font-medium",children:s.cellId||"-"}),e.jsx(K,{children:e.jsx(ee,{variant:H(s.status),children:s.status||"unknown"})}),e.jsx(K,{className:"text-center",children:((u=s.results)==null?void 0:u.length)||0}),e.jsx(K,{className:"text-center",children:((f=s.stats)==null?void 0:f.length)||0}),e.jsx(K,{onClick:h=>h.stopPropagation(),children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>g(s.id),title:"상세 보기",children:e.jsx(le,{className:"h-4 w-4"})}),e.jsxs(ce,{children:[e.jsx(ie,{asChild:!0,children:e.jsx(j,{variant:"ghost",size:"sm",title:"삭제",children:e.jsx(se,{className:"h-4 w-4 text-destructive"})})}),e.jsxs(oe,{children:[e.jsxs(de,{children:[e.jsx(ue,{children:"분석 결과 삭제"}),e.jsx(he,{children:"이 분석 결과를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."})]}),e.jsxs(me,{children:[e.jsx(je,{children:"취소"}),e.jsx(xe,{onClick:()=>J(s.id),children:"삭제"})]})]})]})]})})]},s.id)})})]})}),E&&!r&&!R&&e.jsx("div",{className:"p-6 text-center border-t",children:e.jsxs(j,{variant:"outline",onClick:S,disabled:r,children:[r?e.jsx(ae,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Y,{className:"h-4 w-4 mr-2"}),"더 보기"]})})]})}),e.jsx(Le,{isOpen:T.isOpen,onClose:V,resultIds:T.resultIds,mode:T.mode})]})};export{Ye as default};
