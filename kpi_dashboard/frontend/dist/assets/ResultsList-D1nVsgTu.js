import{M as e,r as l,a3 as R}from"./vendor-CIPdjx1t.js";import{r as V,s as we,a as re,C as ve,b as ye,c as ke,B as te,i as g,d as be,L as W,I as ee,t as Ie,u as Se,v as ie,w as P,x as ze,y as K}from"./index-Q594mB1I.js";import{w as Ae,x as Re,y as Fe,z as Le,D as Oe,A as Ee,B as Me,E as Te,F as He}from"./ui-vendor-C5A5DcrM.js";import{F as De,X as J,e as ae,g as $e,z as Be,H as _e,h as le,v as ce,r as Pe,J as oe,i as Ke,L as de,j as me}from"./icon-vendor-CWV3Q6sV.js";import Ve from"./ResultDetail-D-fUeF-8.js";import"./utils-vendor-DrCDvq1f.js";import"./chart-vendor-CWmmjCk1.js";import"./scroll-area-ZOOfn5zd.js";function ue({...r}){return e.jsx(Ae,{"data-slot":"alert-dialog",...r})}function he({...r}){return e.jsx(Re,{"data-slot":"alert-dialog-trigger",...r})}function Ue({...r}){return e.jsx(Te,{"data-slot":"alert-dialog-portal",...r})}function qe({className:r,...n}){return e.jsx(He,{"data-slot":"alert-dialog-overlay",className:V("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...n})}function xe({className:r,...n}){return e.jsxs(Ue,{children:[e.jsx(qe,{}),e.jsx(Fe,{"data-slot":"alert-dialog-content",className:V("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...n})]})}function je({className:r,...n}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:V("flex flex-col gap-2 text-center sm:text-left",r),...n})}function ge({className:r,...n}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:V("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...n})}function fe({className:r,...n}){return e.jsx(Le,{"data-slot":"alert-dialog-title",className:V("text-lg font-semibold",r),...n})}function pe({className:r,...n}){return e.jsx(Oe,{"data-slot":"alert-dialog-description",className:V("text-muted-foreground text-sm",r),...n})}function Ne({className:r,...n}){return e.jsx(Me,{className:V(we(),r),...n})}function Ce({className:r,...n}){return e.jsx(Ee,{className:V(we({variant:"outline"}),r),...n})}const Je=({initialLimit:r=20,autoFetch:n=!0,initialFilters:S={}}={})=>{const[C,L]=l.useState([]),[w,v]=l.useState(!1),[F,O]=l.useState(null),[b,E]=l.useState(!0),[k,I]=l.useState({limit:r,skip:0,total:0}),[c,M]=l.useState({neId:"ALL",cellId:"ALL",startDate:null,endDate:null,status:"",...S}),a=l.useCallback((o,f={})=>{console.log(`[useAnalysisResults] ${o}`,f)},[]),p=l.useCallback((o,f)=>{console.error(`[useAnalysisResults] ${o}`,f)},[]),d=l.useCallback(async({limit:o=k.limit,skip:f=0,append:H=!1,showToast:q=!0}={})=>{var D,$,Z,s,m,u,x,h,z,B,ne;try{v(!0),O(null),a("분석 결과 조회 시작",{limit:o,skip:f,filters:c});const y={limit:o,skip:f};(D=c.neId)!=null&&D.trim()&&(y.ne_id=c.neId.trim()),($=c.cellId)!=null&&$.trim()&&(y.cell_id=c.cellId.trim()),c.startDate&&(y.date_from=c.startDate),c.endDate&&(y.date_to=c.endDate),(Z=c.status)!=null&&Z.trim()&&(y.status=c.status.trim());const _=await re.get("/api/analysis/results",{params:y});a("분석 결과 조회 성공",{resultCount:((m=(s=_.data)==null?void 0:s.items)==null?void 0:m.length)||0,total:((u=_.data)==null?void 0:u.total)||0,totalRequested:o});const G=(((x=_.data)==null?void 0:x.items)||[]).filter(A=>((A==null?void 0:A.analysis_type)||(A==null?void 0:A.analysisType))==="llm_analysis");return L(H?A=>[...A,...G]:G),I(A=>{var se;return{...A,skip:H?A.skip+G.length:f+G.length,total:((se=_.data)==null?void 0:se.total)||0}}),E(((h=_.data)==null?void 0:h.has_next)||!1),q&&!H&&R.success(`${G.length}개의 분석 결과를 불러왔습니다.`),G}catch(y){const _=((ne=(B=(z=y==null?void 0:y.response)==null?void 0:z.data)==null?void 0:B.error)==null?void 0:ne.message)||(y==null?void 0:y.message)||"분석 결과를 불러오는 중 오류가 발생했습니다.";return p("분석 결과 조회 실패",y),O(_),q&&R.error(`데이터 조회 실패: ${_}`),[]}finally{v(!1)}},[k.limit,c,a,p]),X=l.useCallback(o=>{a("필터 업데이트",{이전:c,새로운:o}),M(f=>({...f,...o})),I(f=>({...f,skip:0}))},[c,a]),T=l.useCallback(()=>{a("필터 초기화"),M({neId:"",cellId:"",startDate:null,endDate:null,status:""}),I(o=>({...o,skip:0}))},[a]),U=l.useCallback(async()=>{if(w||!b){a("추가 로딩 건너뜀",{loading:w,hasMore:b});return}a("추가 결과 로딩 시작"),await d({skip:k.skip,append:!0,showToast:!1})},[w,b,d,k.skip,a]),t=l.useCallback(async()=>{a("데이터 새로고침 시작"),I(o=>({...o,skip:0})),await d({skip:0,append:!1})},[d,a]),i=l.useCallback(async o=>{var f,H,q;try{a("분석 결과 삭제 시작",{resultId:o}),await re.delete(`/api/analysis/results/${o}`),L(D=>D.filter($=>$.id!==o)),a("분석 결과 삭제 성공",{resultId:o}),R.success("분석 결과가 삭제되었습니다.")}catch(D){const $=((q=(H=(f=D==null?void 0:D.response)==null?void 0:f.data)==null?void 0:H.error)==null?void 0:q.message)||(D==null?void 0:D.message)||"분석 결과 삭제 중 오류가 발생했습니다.";p("분석 결과 삭제 실패",D),R.error(`삭제 실패: ${$}`)}},[a,p]);l.useEffect(()=>{n&&(a("컴포넌트 마운트 - 자동 데이터 조회 시작"),d({skip:0,append:!1,showToast:!1}))},[n]),l.useEffect(()=>{n&&(a("필터 변경 감지 - 데이터 재조회"),d({skip:0,append:!1,showToast:!1}))},[n,c,d,a]);const N=l.useMemo(()=>!w&&C.length===0,[w,C.length]),j=l.useMemo(()=>Object.values(c).some(o=>o!=null&&o!==""),[c]),Q=l.useMemo(()=>C.length,[C.length]),Y=l.useMemo(()=>({resultCount:Q,loading:w,hasMore:b,isEmpty:N,isFiltered:j,pagination:k,filters:c,error:F}),[Q,w,b,N,j,k,c,F]);return l.useEffect(()=>{},[Y]),{results:C,loading:w,error:F,isEmpty:N,hasMore:b,isFiltered:j,resultCount:Q,pagination:k,filters:c,updateFilters:X,clearFilters:T,fetchResults:d,refresh:t,loadMore:U,deleteResult:i,debugInfo:Y}},Xe=({filters:r={},onFilterChange:n,onClearFilters:S,isCollapsed:C=!1,onToggleCollapse:L,showActiveCount:w=!0})=>{const v=l.useCallback((t,i={})=>{console.log(`[ResultFilter] ${t}`,i)},[]),{neId:F="",cellId:O="",startDate:b=null,endDate:E=null,status:k=""}=r,I={...F&&{"NE ID":F},...O&&{"Cell ID":O},...b&&{시작일:new Date(b).toLocaleDateString("ko-KR")},...E&&{종료일:new Date(E).toLocaleDateString("ko-KR")},...k&&{상태:k}},c=Object.keys(I).length,M=c>0,a=l.useCallback((t,i)=>{v("필터 변경",{key:t,value:i}),n&&n(t,i)},[n,v]),p=l.useCallback(t=>{v("개별 필터 초기화",{key:t}),a(t,t==="startDate"||t==="endDate"?null:"")},[a,v]),d=l.useCallback(()=>{v("전체 필터 초기화"),S&&S()},[S,v]),X=l.useCallback(t=>{if(!t)return"";try{return new Date(t).toISOString().split("T")[0]}catch{return""}},[]),T=l.useCallback(t=>{if(!t)return null;try{return new Date(t).toISOString()}catch{return null}},[]),U=l.useCallback(()=>{v("필터 패널 토글",{isCollapsed:!C}),L&&L()},[C,L,v]);return e.jsxs(ve,{className:"w-full",children:[e.jsxs(ye,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[e.jsx(De,{className:"h-5 w-5"}),"필터"]}),w&&M&&e.jsxs(te,{variant:"secondary",className:"text-xs",children:[c,"개 활성"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[M&&e.jsxs(g,{variant:"ghost",size:"sm",onClick:d,className:"text-destructive hover:text-destructive",children:[e.jsx(J,{className:"h-4 w-4 mr-1"}),"전체 초기화"]}),e.jsx(g,{variant:"ghost",size:"sm",onClick:U,children:C?e.jsx(ae,{className:"h-4 w-4"}):e.jsx($e,{className:"h-4 w-4"})})]})]}),M&&!C&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:Object.entries(I).map(([t,i])=>e.jsxs(te,{variant:"outline",className:"flex items-center gap-1 pr-1",children:[e.jsxs("span",{className:"text-xs",children:[t,": ",i]}),e.jsx(g,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground",onClick:()=>{const j={"NE ID":"neId","Cell ID":"cellId",시작일:"startDate",종료일:"endDate",상태:"status"}[t];j&&p(j)},children:e.jsx(J,{className:"h-3 w-3"})})]},t))})]}),!C&&e.jsxs(be,{className:"pt-0",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"filter-ne",className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"NE ID"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{id:"filter-ne",placeholder:"NE ID 검색...",value:F,onChange:t=>a("neId",t.target.value),className:"pr-8"}),F&&e.jsx(g,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("neId"),children:e.jsx(J,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"filter-cell",className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),"Cell ID"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{id:"filter-cell",placeholder:"Cell ID 검색...",value:O,onChange:t=>a("cellId",t.target.value),className:"pr-8"}),O&&e.jsx(g,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("cellId"),children:e.jsx(J,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"filter-start",className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),"시작 날짜"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{id:"filter-start",type:"date",value:X(b),onChange:t=>a("startDate",T(t.target.value)),className:"pr-8"}),b&&e.jsx(g,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("startDate"),children:e.jsx(J,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"filter-end",className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),"종료 날짜"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{id:"filter-end",type:"date",value:X(E),onChange:t=>a("endDate",T(t.target.value)),className:"pr-8"}),E&&e.jsx(g,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>p("endDate"),children:e.jsx(J,{className:"h-3 w-3"})})]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx(W,{className:"text-sm font-medium mb-3 block",children:"빠른 날짜 선택"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"오늘",days:0},{label:"어제",days:1},{label:"최근 7일",days:7},{label:"최근 30일",days:30},{label:"최근 90일",days:90}].map(({label:t,days:i})=>e.jsx(g,{variant:"outline",size:"sm",onClick:()=>{const N=new Date,j=new Date;i===0?(j.setHours(0,0,0,0),N.setHours(23,59,59,999)):i===1?(j.setDate(j.getDate()-1),j.setHours(0,0,0,0),N.setDate(N.getDate()-1),N.setHours(23,59,59,999)):(j.setDate(j.getDate()-i),j.setHours(0,0,0,0),N.setHours(23,59,59,999)),a("startDate",j.toISOString()),a("endDate",N.toISOString()),v("빠른 날짜 선택",{label:t,startDate:j,endDate:N})},children:t},t))})]})]})]})},ls=()=>{const{results:r,loading:n,error:S,isEmpty:C,hasMore:L,isFiltered:w,resultCount:v,filters:F,updateFilters:O,clearFilters:b,refresh:E,loadMore:k,deleteResult:I}=Je({initialLimit:20,autoFetch:!0}),[c,M]=l.useState(!1),[a,p]=l.useState(new Set),[d,X]=l.useState({key:"analysisDate",direction:"desc"}),[T,U]=l.useState({isOpen:!1,resultIds:[],mode:"single"}),t=l.useCallback((s,m={})=>{console.log(`[ResultsList] ${s}`,m)},[]),i=l.useMemo(()=>r!=null&&r.length?[...r].sort((m,u)=>{const x=m[d.key],h=u[d.key];if(x==null)return 1;if(h==null)return-1;if(d.key==="analysisDate"){const z=new Date(x),B=new Date(h);return d.direction==="asc"?z-B:B-z}if(typeof x=="string"&&typeof h=="string"){const z=x.localeCompare(h);return d.direction==="asc"?z:-z}return typeof x=="number"&&typeof h=="number"?d.direction==="asc"?x-h:h-x:0}):[],[r,d]),N=l.useCallback(s=>{X(m=>{const u=m.key===s&&m.direction==="asc"?"desc":"asc";return t("정렬 변경",{key:s,direction:u}),{key:s,direction:u}})},[t]),j=l.useCallback(s=>{p(m=>{const u=new Set(m);return u.has(s)?u.delete(s):u.add(s),u})},[]),Q=l.useCallback(()=>{a.size===i.length?p(new Set):p(new Set(i.map(s=>s.id)))},[a.size,i]),Y=l.useCallback(async s=>{try{t("분석 결과 삭제 시작",{resultId:s}),await I(s),p(m=>{const u=new Set(m);return u.delete(s),u})}catch(m){t("분석 결과 삭제 실패",{resultId:s,error:m})}},[I,t]),o=l.useCallback(async()=>{if(a.size!==0)try{t("벌크 삭제 시작",{count:a.size});const s=Array.from(a).map(m=>I(m));await Promise.all(s),p(new Set),R.success(`${a.size}개의 결과가 삭제되었습니다.`)}catch(s){t("벌크 삭제 실패",{error:s}),R.error("일부 결과 삭제에 실패했습니다.")}},[a,I,t]),f=l.useCallback(s=>{t("상세 보기 요청",{resultId:s}),U({isOpen:!0,resultIds:[s],mode:"single"})},[t]),H=l.useCallback(()=>{if(a.size<2){R.error("비교할 결과를 2개 이상 선택해주세요");return}if(a.size>5){R.error("최대 5개까지만 비교할 수 있습니다");return}const s=Array.from(a);t("비교 보기 요청",{resultIds:s,count:s.length}),U({isOpen:!0,resultIds:s,mode:"compare"})},[a,t]),q=l.useCallback(()=>{U({isOpen:!1,resultIds:[],mode:"single"})},[]),D=l.useCallback(()=>{if(!(i!=null&&i.length)){R.error("내보낼 데이터가 없습니다.");return}try{t("데이터 내보내기 시작",{count:i.length});const s=i.map(h=>{var z,B;return{"분석 날짜":new Date(h.analysisDate).toLocaleString("ko-KR"),"NE ID":h.neId,"Cell ID":h.cellId,상태:h.status,"결과 수":((z=h.results)==null?void 0:z.length)||0,"통계 수":((B=h.stats)==null?void 0:B.length)||0}}),m=[Object.keys(s[0]).join(","),...s.map(h=>Object.values(h).join(","))].join(`
`),u=new Blob([m],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a");x.href=URL.createObjectURL(u),x.download=`analysis_results_${new Date().toISOString().split("T")[0]}.csv`,x.click(),R.success("데이터가 내보내기 되었습니다."),t("데이터 내보내기 완료")}catch(s){t("데이터 내보내기 실패",{error:s}),R.error("데이터 내보내기에 실패했습니다.")}},[i,t]),$=l.useCallback(s=>{switch(s==null?void 0:s.toLowerCase()){case"success":return"default";case"error":case"failed":return"destructive";case"warning":return"secondary";case"pending":case"processing":return"outline";default:return"secondary"}},[]),Z=l.useCallback(s=>{try{return new Date(s).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return s||"-"}},[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"LLM 분석 결과"}),e.jsxs("p",{className:"text-muted-foreground",children:["총 ",v,"개의 분석 결과",w&&" (필터 적용됨)"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.size>0&&e.jsxs(e.Fragment,{children:[a.size>=2&&e.jsxs(g,{variant:"default",size:"sm",onClick:H,children:[e.jsx(BarChart3,{className:"h-4 w-4 mr-2"}),"비교하기 (",a.size,")"]}),e.jsxs(ue,{children:[e.jsx(he,{asChild:!0,children:e.jsxs(g,{variant:"destructive",size:"sm",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"선택 삭제 (",a.size,")"]})}),e.jsxs(xe,{children:[e.jsxs(je,{children:[e.jsx(fe,{children:"선택된 결과 삭제"}),e.jsxs(pe,{children:["선택된 ",a.size,"개의 분석 결과를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."]})]}),e.jsxs(ge,{children:[e.jsx(Ce,{children:"취소"}),e.jsx(Ne,{onClick:o,children:"삭제"})]})]})]})]}),e.jsxs(g,{variant:"outline",size:"sm",onClick:D,disabled:!(i!=null&&i.length),children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"내보내기"]}),e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>M(!c),children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"필터",e.jsx(ae,{className:`h-4 w-4 ml-2 transition-transform ${c?"rotate-180":""}`})]}),e.jsxs(g,{variant:"outline",size:"sm",onClick:E,disabled:n,children:[e.jsx(oe,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),"새로고침"]})]})]}),c&&e.jsx(Xe,{filters:F,onFilterChange:(s,m)=>O({[s]:m}),onClearFilters:b,isCollapsed:!1,onToggleCollapse:()=>M(!1),showActiveCount:!0}),e.jsx(ve,{children:e.jsxs(be,{className:"p-0",children:[S&&e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(Ke,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"데이터 로딩 오류"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:S}),e.jsxs(g,{onClick:E,variant:"outline",children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"다시 시도"]})]}),n&&C&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(de,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"분석 결과를 불러오는 중..."})]}),!n&&C&&!S&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(me,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:w?"검색 결과가 없습니다":"분석 결과가 없습니다"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:w?"다른 조건으로 검색해보세요.":"아직 생성된 분석 결과가 없습니다."}),w&&e.jsxs(g,{onClick:b,variant:"outline",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"필터 초기화"]})]}),!C&&!S&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ie,{children:[e.jsx(Se,{children:e.jsxs(ie,{children:[e.jsx(P,{className:"w-12",children:e.jsx("input",{type:"checkbox",checked:a.size===i.length&&i.length>0,onChange:Q,className:"rounded border-gray-300"})}),e.jsxs(P,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>N("analysisDate"),children:["분석 날짜",d.key==="analysisDate"&&e.jsx("span",{className:"ml-2",children:d.direction==="asc"?"↑":"↓"})]}),e.jsxs(P,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>N("neId"),children:["NE ID",d.key==="neId"&&e.jsx("span",{className:"ml-2",children:d.direction==="asc"?"↑":"↓"})]}),e.jsxs(P,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>N("cellId"),children:["Cell ID",d.key==="cellId"&&e.jsx("span",{className:"ml-2",children:d.direction==="asc"?"↑":"↓"})]}),e.jsx(P,{children:"상태"}),e.jsx(P,{className:"text-center",children:"결과 수"}),e.jsx(P,{className:"text-center",children:"통계 수"}),e.jsx(P,{className:"w-20",children:"작업"})]})}),e.jsx(ze,{children:i.map(s=>{var m,u;return e.jsxs(ie,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>f(s.id),children:[e.jsx(K,{onClick:x=>x.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:a.has(s.id),onChange:()=>j(s.id),className:"rounded border-gray-300"})}),e.jsx(K,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-muted-foreground"}),Z(s.analysisDate)]})}),e.jsx(K,{className:"font-medium",children:s.neId||"-"}),e.jsx(K,{className:"font-medium",children:s.cellId||"-"}),e.jsx(K,{children:e.jsx(te,{variant:$(s.status),children:s.status||"unknown"})}),e.jsx(K,{className:"text-center",children:((m=s.results)==null?void 0:m.length)||0}),e.jsx(K,{className:"text-center",children:((u=s.stats)==null?void 0:u.length)||0}),e.jsx(K,{onClick:x=>x.stopPropagation(),children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>f(s.id),title:"상세 보기",children:e.jsx(me,{className:"h-4 w-4"})}),e.jsxs(ue,{children:[e.jsx(he,{asChild:!0,children:e.jsx(g,{variant:"ghost",size:"sm",title:"삭제",children:e.jsx(ce,{className:"h-4 w-4 text-destructive"})})}),e.jsxs(xe,{children:[e.jsxs(je,{children:[e.jsx(fe,{children:"분석 결과 삭제"}),e.jsx(pe,{children:"이 분석 결과를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."})]}),e.jsxs(ge,{children:[e.jsx(Ce,{children:"취소"}),e.jsx(Ne,{onClick:()=>Y(s.id),children:"삭제"})]})]})]})]})})]},s.id)})})]})}),L&&!n&&!S&&e.jsx("div",{className:"p-6 text-center border-t",children:e.jsxs(g,{variant:"outline",onClick:k,disabled:n,children:[n?e.jsx(de,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ae,{className:"h-4 w-4 mr-2"}),"더 보기"]})})]})}),e.jsx(Ve,{isOpen:T.isOpen,onClose:q,resultIds:T.resultIds,mode:T.mode})]})};export{ls as default};
